apiVersion: v1
kind: Secret
metadata:
  namespace: crossplane-system
  name: example-provider-secret
type: Opaque
data:
  credentials: BASE64-ENC-TOKEN
---
apiVersion: netbird.crossplane.io/v1alpha1
kind: ProviderConfig
metadata:
  name: example
spec:
  management-uri: https://URL:443
  credentials:
    source: Secret
    secretRef:
      namespace: crossplane-system
      name: example-provider-secret
      key: credentials
---
apiVersion: vpn.netbird.crossplane.io/v1alpha1
kind: NbGroup
metadata:
  name: xplanegrouptest
spec:
  forProvider:
    name: xplanegrouptest
  providerConfigRef:
    name: example
---
apiVersion: vpn.netbird.crossplane.io/v1alpha1
kind: NbAccount
metadata:
  name: xplaneaccounttest
spec:
  forProvider:
    name: xplaneaccounttest
    settings:
      extra:
        peer_approval_enabled: false
      groups_propagation_enabled: true
      jwt_allow_groups:
        - "311043029546828449:techops-admin"
        - "311043029546828449:techops-users"
      jwt_groups_claim_name: "zitadel:grants"
      jwt_groups_enabled: true
      peer_inactivity_expiration: 0
      peer_inactivity_expiration_enabled: false
      peer_login_expiration: 86400
      peer_login_expiration_enabled: true
      regular_users_view_blocked: true
      routing_peer_dns_resolution_enabled: false
  providerConfigRef:
    name: example
